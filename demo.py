"""
Demo script for Python Task Manager
à¸ªà¸„à¸£à¸´à¸›à¸•à¹Œà¸ªà¸²à¸˜à¸´à¸•à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Task Manager
"""

from task_manager import TaskManager
from datetime import datetime, timedelta


def demo_task_manager():
    """
    à¸ªà¸²à¸˜à¸´à¸•à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Task Manager
    """
    print("ğŸ¯ Python Task Manager Demo")
    print("=" * 50)
    
    # à¸ªà¸£à¹‰à¸²à¸‡ TaskManager
    tm = TaskManager("demo_tasks.json")
    
    # à¹€à¸à¸´à¹ˆà¸¡à¸‡à¸²à¸™à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡
    print("\nğŸ“ à¹€à¸à¸´à¹ˆà¸¡à¸‡à¸²à¸™à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡...")
    
    # à¸‡à¸²à¸™à¸—à¸µà¹ˆ 1
    task1 = tm.add_task(
        "à¸›à¸£à¸°à¸Šà¸¸à¸¡à¸—à¸µà¸¡à¸à¸±à¸’à¸™à¸²",
        "à¸›à¸£à¸°à¸Šà¸¸à¸¡à¸£à¸²à¸¢à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¹€à¸à¸·à¹ˆà¸­à¸­à¸±à¸›à¹€à¸”à¸•à¸„à¸§à¸²à¸¡à¸„à¸·à¸šà¸«à¸™à¹‰à¸²à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ",
        (datetime.now() + timedelta(days=1)).strftime("%Y-%m-%d")
    )
    print(f"âœ… à¹€à¸à¸´à¹ˆà¸¡à¸‡à¸²à¸™: {task1.title}")
    
    # à¸‡à¸²à¸™à¸—à¸µà¹ˆ 2
    task2 = tm.add_task(
        "à¹€à¸‚à¸µà¸¢à¸™à¹€à¸­à¸à¸ªà¸²à¸£ API",
        "à¹€à¸‚à¸µà¸¢à¸™à¹€à¸­à¸à¸ªà¸²à¸£ API à¸ªà¸³à¸«à¸£à¸±à¸šà¸£à¸°à¸šà¸š Task Manager",
        (datetime.now() + timedelta(days=3)).strftime("%Y-%m-%d")
    )
    print(f"âœ… à¹€à¸à¸´à¹ˆà¸¡à¸‡à¸²à¸™: {task2.title}")
    
    # à¸‡à¸²à¸™à¸—à¸µà¹ˆ 3
    task3 = tm.add_task(
        "à¸—à¸”à¸ªà¸­à¸šà¸£à¸°à¸šà¸š",
        "à¸—à¸³à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸šà¸£à¸°à¸šà¸š Task Manager à¸­à¸¢à¹ˆà¸²à¸‡à¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡",
        (datetime.now() + timedelta(days=5)).strftime("%Y-%m-%d")
    )
    print(f"âœ… à¹€à¸à¸´à¹ˆà¸¡à¸‡à¸²à¸™: {task3.title}")
    
    # à¸‡à¸²à¸™à¸—à¸µà¹ˆ 4 (à¹€à¸ªà¸£à¹‡à¸ˆà¹à¸¥à¹‰à¸§)
    task4 = tm.add_task(
        "à¸­à¸­à¸à¹à¸šà¸š UI",
        "à¸­à¸­à¸à¹à¸šà¸š User Interface à¸ªà¸³à¸«à¸£à¸±à¸š Task Manager",
        (datetime.now() - timedelta(days=1)).strftime("%Y-%m-%d")
    )
    task4.mark_completed()
    print(f"âœ… à¹€à¸à¸´à¹ˆà¸¡à¸‡à¸²à¸™: {task4.title} (à¹€à¸ªà¸£à¹‡à¸ˆà¹à¸¥à¹‰à¸§)")
    
    # à¹à¸ªà¸”à¸‡à¸‡à¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
    print("\nğŸ“‹ à¸‡à¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”:")
    tm.display_tasks()
    
    # à¹à¸ªà¸”à¸‡à¸‡à¸²à¸™à¸—à¸µà¹ˆà¸£à¸­à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£
    print("\nâ³ à¸‡à¸²à¸™à¸—à¸µà¹ˆà¸£à¸­à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£:")
    tm.display_tasks(tm.get_pending_tasks())
    
    # à¹à¸ªà¸”à¸‡à¸‡à¸²à¸™à¸—à¸µà¹ˆà¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™à¹à¸¥à¹‰à¸§
    print("\nâœ… à¸‡à¸²à¸™à¸—à¸µà¹ˆà¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™à¹à¸¥à¹‰à¸§:")
    tm.display_tasks(tm.get_completed_tasks())
    
    # à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¸„à¹‰à¸™à¸«à¸²
    print("\nğŸ” à¸„à¹‰à¸™à¸«à¸²à¸‡à¸²à¸™à¸—à¸µà¹ˆà¸¡à¸µà¸„à¸³à¸§à¹ˆà¸² 'à¸£à¸°à¸šà¸š':")
    search_results = tm.search_tasks(keyword="à¸£à¸°à¸šà¸š")
    tm.display_tasks(search_results)
    
    # à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¸—à¸³à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸«à¸¡à¸²à¸¢à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™
    print(f"\nâœ… à¸—à¸³à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸«à¸¡à¸²à¸¢à¸§à¹ˆà¸²à¸‡à¸²à¸™ '{task1.title}' à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™:")
    tm.mark_task_completed(task1.task_id)
    
    # à¹à¸ªà¸”à¸‡à¸ªà¸–à¸²à¸™à¸°à¸«à¸¥à¸±à¸‡à¸à¸²à¸£à¸­à¸±à¸›à¹€à¸”à¸•
    print("\nğŸ“Š à¸ªà¸–à¸²à¸™à¸°à¸«à¸¥à¸±à¸‡à¸à¸²à¸£à¸­à¸±à¸›à¹€à¸”à¸•:")
    print(f"à¸‡à¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”: {len(tm.get_all_tasks())}")
    print(f"à¸‡à¸²à¸™à¸—à¸µà¹ˆà¸£à¸­à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£: {len(tm.get_pending_tasks())}")
    print(f"à¸‡à¸²à¸™à¸—à¸µà¹ˆà¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™à¹à¸¥à¹‰à¸§: {len(tm.get_completed_tasks())}")
    
    # à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¸¥à¸šà¸‡à¸²à¸™
    print(f"\nğŸ—‘ï¸ à¸¥à¸šà¸‡à¸²à¸™ '{task3.title}':")
    tm.delete_task(task3.task_id)
    
    # à¹à¸ªà¸”à¸‡à¸ªà¸–à¸²à¸™à¸°à¸ªà¸¸à¸”à¸—à¹‰à¸²à¸¢
    print("\nğŸ“Š à¸ªà¸–à¸²à¸™à¸°à¸ªà¸¸à¸”à¸—à¹‰à¸²à¸¢:")
    print(f"à¸‡à¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”: {len(tm.get_all_tasks())}")
    print(f"à¸‡à¸²à¸™à¸—à¸µà¹ˆà¸£à¸­à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£: {len(tm.get_pending_tasks())}")
    print(f"à¸‡à¸²à¸™à¸—à¸µà¹ˆà¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™à¹à¸¥à¹‰à¸§: {len(tm.get_completed_tasks())}")
    
    print("\nğŸ‰ Demo à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™! à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸–à¸¹à¸à¸šà¸±à¸™à¸—à¸¶à¸à¹ƒà¸™ demo_tasks.json")


if __name__ == "__main__":
    demo_task_manager()
