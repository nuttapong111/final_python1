#!/usr/bin/env python3
"""
Python Task Manager - Demo Script
à¸ªà¸„à¸£à¸´à¸›à¸•à¹Œà¸ªà¸²à¸˜à¸´à¸•à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸‡à¸²à¸™
"""

from task_manager import TaskManager
from datetime import datetime, timedelta


def demo_task_manager():
    """
    à¸ªà¸²à¸˜à¸´à¸•à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ TaskManager
    """
    print("ğŸ¯ Python Task Manager - Demo")
    print("=" * 50)
    
    # à¸ªà¸£à¹‰à¸²à¸‡ TaskManager
    task_manager = TaskManager("demo_tasks.json")
    
    # à¹€à¸à¸´à¹ˆà¸¡à¸‡à¸²à¸™à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡
    print("\nğŸ“ à¹€à¸à¸´à¹ˆà¸¡à¸‡à¸²à¸™à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡...")
    task_manager.add_task(
        "à¹€à¸£à¸µà¸¢à¸™ Python Programming",
        "à¹€à¸£à¸µà¸¢à¸™ Python à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸à¸±à¸’à¸™à¸²à¹à¸­à¸›à¸à¸¥à¸´à¹€à¸„à¸Šà¸±à¸™",
        "2024-12-31"
    )
    
    task_manager.add_task(
        "à¸—à¸³à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ Task Manager",
        "à¸à¸±à¸’à¸™à¸²à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¸ªà¸¸à¸”à¸—à¹‰à¸²à¸¢à¸ªà¸³à¸«à¸£à¸±à¸šà¸§à¸´à¸Šà¸² Programming",
        "2024-12-25"
    )
    
    task_manager.add_task(
        "à¹€à¸•à¸£à¸µà¸¢à¸¡à¸ªà¸­à¸š Final",
        "à¸—à¸šà¸—à¸§à¸™à¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸ªà¸­à¸šà¸›à¸¥à¸²à¸¢à¸ à¸²à¸„",
        "2024-12-20"
    )
    
    # à¹à¸ªà¸”à¸‡à¸‡à¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
    print("\nğŸ‘€ à¸”à¸¹à¸‡à¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”:")
    task_manager.view_tasks()
    
    # à¸—à¸³à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸«à¸¡à¸²à¸¢à¸§à¹ˆà¸²à¸‡à¸²à¸™à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™
    print("\nâœ… à¸—à¸³à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸«à¸¡à¸²à¸¢à¸§à¹ˆà¸²à¸‡à¸²à¸™à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™...")
    if task_manager.tasks:
        first_task_id = task_manager.tasks[0].task_id
        task_manager.mark_task_completed(first_task_id)
    
    # à¹à¸ªà¸”à¸‡à¸‡à¸²à¸™à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¸—à¸³à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸«à¸¡à¸²à¸¢à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™
    print("\nğŸ‘€ à¸”à¸¹à¸‡à¸²à¸™à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¸—à¸³à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸«à¸¡à¸²à¸¢à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™:")
    task_manager.view_tasks()
    
    # à¸„à¹‰à¸™à¸«à¸²à¸‡à¸²à¸™
    print("\nğŸ” à¸„à¹‰à¸™à¸«à¸²à¸‡à¸²à¸™à¸—à¸µà¹ˆà¸¡à¸µà¸„à¸³à¸§à¹ˆà¸² 'Python':")
    results = task_manager.search_tasks(keyword="Python")
    task_manager.display_search_results(results)
    
    # à¹à¸ªà¸”à¸‡à¸ªà¸–à¸´à¸•à¸´
    print("\nğŸ“Š à¸ªà¸–à¸´à¸•à¸´à¸‡à¸²à¸™:")
    stats = task_manager.get_statistics()
    print(f"   à¸‡à¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”: {stats['total']} à¸‡à¸²à¸™")
    print(f"   à¸‡à¸²à¸™à¸—à¸µà¹ˆà¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™: {stats['completed']} à¸‡à¸²à¸™")
    print(f"   à¸‡à¸²à¸™à¸—à¸µà¹ˆà¸£à¸­à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£: {stats['pending']} à¸‡à¸²à¸™")
    print(f"   à¸­à¸±à¸•à¸£à¸²à¸à¸²à¸£à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™: {stats['completion_rate']:.1f}%")
    
    print("\nâœ… Demo à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™!")


def demo_advanced_features():
    """
    à¸ªà¸²à¸˜à¸´à¸•à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸‚à¸±à¹‰à¸™à¸ªà¸¹à¸‡
    """
    print("\nğŸš€ Advanced Features Demo")
    print("=" * 50)
    
    task_manager = TaskManager("demo_advanced.json")
    
    # à¹€à¸à¸´à¹ˆà¸¡à¸‡à¸²à¸™à¸«à¸¥à¸²à¸¢à¸‡à¸²à¸™
    tasks_data = [
        ("à¸›à¸£à¸°à¸Šà¸¸à¸¡à¸—à¸µà¸¡", "à¸›à¸£à¸°à¸Šà¸¸à¸¡à¸—à¸µà¸¡à¸à¸±à¸’à¸™à¸²à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ", "2024-12-15"),
        ("à¹€à¸‚à¸µà¸¢à¸™à¹€à¸­à¸à¸ªà¸²à¸£", "à¹€à¸‚à¸µà¸¢à¸™à¹€à¸­à¸à¸ªà¸²à¸£à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ", "2024-12-18"),
        ("à¸—à¸”à¸ªà¸­à¸šà¸£à¸°à¸šà¸š", "à¸—à¸”à¸ªà¸­à¸šà¸£à¸°à¸šà¸šà¸à¹ˆà¸­à¸™à¸ªà¹ˆà¸‡", "2024-12-22"),
        ("à¸ªà¹ˆà¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ", "à¸ªà¹ˆà¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¹ƒà¸«à¹‰à¸­à¸²à¸ˆà¸²à¸£à¸¢à¹Œ", "2024-12-25"),
        ("à¸à¸±à¸à¸œà¹ˆà¸­à¸™", "à¸à¸±à¸à¸œà¹ˆà¸­à¸™à¸«à¸¥à¸±à¸‡à¸ªà¹ˆà¸‡à¸‡à¸²à¸™", "2024-12-26")
    ]
    
    print("\nğŸ“ à¹€à¸à¸´à¹ˆà¸¡à¸‡à¸²à¸™à¸«à¸¥à¸²à¸¢à¸‡à¸²à¸™...")
    for title, description, due_date in tasks_data:
        task_manager.add_task(title, description, due_date)
    
    # à¹à¸ªà¸”à¸‡à¸‡à¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
    print("\nğŸ‘€ à¸‡à¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”:")
    task_manager.view_tasks()
    
    # à¸„à¹‰à¸™à¸«à¸²à¸•à¸²à¸¡à¸§à¸±à¸™à¸—à¸µà¹ˆ
    print("\nğŸ” à¸„à¹‰à¸™à¸«à¸²à¸‡à¸²à¸™à¸—à¸µà¹ˆà¸„à¸£à¸šà¸à¸³à¸«à¸™à¸”à¸§à¸±à¸™à¸—à¸µà¹ˆ 2024-12-25:")
    results = task_manager.search_tasks(due_date="2024-12-25")
    task_manager.display_search_results(results)
    
    # à¸„à¹‰à¸™à¸«à¸²à¸•à¸²à¸¡à¸„à¸³à¸ªà¸³à¸„à¸±à¸
    print("\nğŸ” à¸„à¹‰à¸™à¸«à¸²à¸‡à¸²à¸™à¸—à¸µà¹ˆà¸¡à¸µà¸„à¸³à¸§à¹ˆà¸² 'à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ':")
    results = task_manager.search_tasks(keyword="à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ")
    task_manager.display_search_results(results)
    
    # à¸—à¸³à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸«à¸¡à¸²à¸¢à¸§à¹ˆà¸²à¸‡à¸²à¸™à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™à¸«à¸¥à¸²à¸¢à¸‡à¸²à¸™
    print("\nâœ… à¸—à¸³à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸«à¸¡à¸²à¸¢à¸§à¹ˆà¸²à¸‡à¸²à¸™à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™...")
    for i, task in enumerate(task_manager.tasks[:3]):  # à¸—à¸³à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸«à¸¡à¸²à¸¢ 3 à¸‡à¸²à¸™à¹à¸£à¸
        task_manager.mark_task_completed(task.task_id)
    
    # à¹à¸ªà¸”à¸‡à¸ªà¸–à¸´à¸•à¸´à¸ªà¸¸à¸”à¸—à¹‰à¸²à¸¢
    print("\nğŸ“Š à¸ªà¸–à¸´à¸•à¸´à¸ªà¸¸à¸”à¸—à¹‰à¸²à¸¢:")
    stats = task_manager.get_statistics()
    print(f"   à¸‡à¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”: {stats['total']} à¸‡à¸²à¸™")
    print(f"   à¸‡à¸²à¸™à¸—à¸µà¹ˆà¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™: {stats['completed']} à¸‡à¸²à¸™")
    print(f"   à¸‡à¸²à¸™à¸—à¸µà¹ˆà¸£à¸­à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£: {stats['pending']} à¸‡à¸²à¸™")
    print(f"   à¸­à¸±à¸•à¸£à¸²à¸à¸²à¸£à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™: {stats['completion_rate']:.1f}%")
    
    print("\nâœ… Advanced Demo à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™!")


if __name__ == "__main__":
    try:
        # à¸£à¸±à¸™ demo à¸à¸·à¹‰à¸™à¸à¸²à¸™
        demo_task_manager()
        
        # à¸£à¸±à¸™ demo à¸‚à¸±à¹‰à¸™à¸ªà¸¹à¸‡
        demo_advanced_features()
        
        print("\nğŸ‰ à¸à¸²à¸£à¸ªà¸²à¸˜à¸´à¸•à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™!")
        print("ğŸ’¡ à¹ƒà¸Šà¹‰ 'python main.py' à¹€à¸à¸·à¹ˆà¸­à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¹‚à¸›à¸£à¹à¸à¸£à¸¡à¸ˆà¸£à¸´à¸‡")
        
    except KeyboardInterrupt:
        print("\n\nğŸ‘‹ à¸¢à¸à¹€à¸¥à¸´à¸à¸à¸²à¸£à¸ªà¸²à¸˜à¸´à¸•")
    except Exception as e:
        print(f"\nâŒ à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸ªà¸²à¸˜à¸´à¸•: {e}")
